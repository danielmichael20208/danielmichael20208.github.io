<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Terminal Simulator | Daniel Michael</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Custom CSS -->
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<!-- Navbar -->
<nav class="main-navbar">
  <div class="nav-container">
    <a href="index.html" class="nav-logo">Daniel Michael</a>

    <div class="nav-links">
      <a href="projects.html" class="nav-btn">Projects</a>
      <a href="resume.html" class="nav-btn">Resume</a>
      <a href="labs.html" class="nav-btn">Cyber Labs</a>
      <a href="terminal.html" class="nav-btn">Terminal</a>
      <a href="contact.html" class="nav-btn">Contact</a>
    </div>
  </div>
</nav>

<!-- Hero Section -->
<section class="hero text-center d-flex align-items-center justify-content-center" style="height:250px;">
  <div class="container">
    <h1 class="display-4">Interactive Terminal</h1>
    <p class="lead">Type commands below and explore my skills, projects, and contact info!
    This interactive terminal simulates a cyber operations environment.
    You can use commands to explore my projects, skills, and labs.
    In future updates, this terminal will be connected to real Python programs and physical security hardware I’m building, turning the portfolio into an actual cyber control system.
    </p>
  </div>
</section>

<!-- Terminal Section -->
<section class="terminal-section container">

<h2 class="terminal-title text-center">Cyber Terminal</h2>

<div class="terminal-window">
  <div class="terminal-header">daniel@portfolio:~</div>
  <div id="terminal-output" class="terminal-body"></div>

  <div class="terminal-input">
    <span class="terminal-prompt">$</span>
    <input id="terminal-command" type="text" placeholder="Type 'help' and press Enter">
  </div>
</div>

</section>

<footer class="bg-dark text-white text-center py-3 mt-5">
  <p>© 2026 Daniel Michael</p>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
const fileSystem = {
  "/": {
    home: {
      daniel: {
        "password.py": "Password Strength Checker Program",
        "scanner.py": "Port Scanner",
        "firewall.py": "Firewall Simulator"
      }
    }
  }
};

let currentDir = "/home/daniel";
</script>
  
<!-- Terminal JS -->
<script>
const terminal = document.getElementById("terminal-command");
const output = document.getElementById("terminal-output");

// helper to print to terminal
function write(line = "") {
  output.innerHTML += line + "\n";
  output.scrollTop = output.scrollHeight;
}

// show a little banner on load
write("DanielOS Cyber Terminal v1.2");
write("Type 'help' to see available commands.");
write("----------------------------------------");

function showHelp() {
  write(`
help                        Show this help message
about                       Who is Daniel
skills                      List skills
projects                    View GitHub link
contact                     Contact info
status                      Show system status summary
logs                        Show combined security event log
door                        Info about Arduino CyberDoor project
door logs                   Show sample CyberDoor security logs
python cyberdoor_logs.py    Simulate CyberDoor log script
python password_analyzer.py Simulate Password Analyzer script
python port_scanner.py      Simulate Port Scanner script
clear                       Clear the terminal
`);
}

function showDoorInfo() {
  write("CyberDoor v1 - Arduino Security Access System");
  write("Features:");
  write("- Keypad PIN entry");
  write("- Servo-based lock control");
  write("- Green/Red LED indicators");
  write("- Alarm and lockdown after 3 failed attempts");
  write("- Logs security events with levels like [INFO], [WARN], [ALERT]");
}

// === Mini-SIEM style status summary ===
function showStatus() {
  write("=== DanielOS System Status ===");
  write("[OK] CyberDoor (Arduino access control)        : SIMULATED / HEALTHY");
  write("[OK] Password Analyzer (Python)                : READY");
  write("[OK] Port Scanner (Python)                     : READY");
  write("[OK] Cyber Labs (TryHackMe, CTF practice)      : ACTIVE / IN PROGRESS");
  write("[OK] GitHub Portfolio                          : ONLINE");
  write("[INFO] All core tools operational. Use 'logs' to view recent events.");
}

// CyberDoor logs (physical security)
function showDoorLogs() {
  const logs = [
    "[BOOT] 0s - CyberDoor v1 starting...",
    "[INFO] 0s - System armed - waiting for PIN input",
    "[INFO] 5s - PIN entered, evaluating...",
    "[DATA] Raw PIN: 9999",
    "[ACCESS] 5s - ACCESS DENIED",
    "[WARN] 5s - Failed attempts: 1",
    "[INFO] 10s - PIN entered, evaluating...",
    "[DATA] Raw PIN: 9999",
    "[ACCESS] 10s - ACCESS DENIED",
    "[WARN] 10s - Failed attempts: 2",
    "[INFO] 15s - PIN entered, evaluating...",
    "[DATA] Raw PIN: 9999",
    "[ACCESS] 15s - ACCESS DENIED",
    "[WARN] 15s - Failed attempts: 3",
    "[ALERT] 15s - SECURITY LOCKDOWN ACTIVATED - 3 failed attempts",
    "[INFO] 20s - Lockdown cycle complete, fail counter reset",
    "[INFO] 30s - PIN entered, evaluating...",
    "[DATA] Raw PIN: 1234",
    "[ACCESS] 30s - ACCESS GRANTED",
    "[INFO] 30s - Door unlocked",
    "[INFO] 33s - Door auto-locked after timeout",
    "[INFO] 33s - Door locked"
  ];
  write("Simulated CyberDoor security event log:");
  write("----------------------------------------");
  logs.forEach(line => write(line));
}

// === Combined SIEM-style global log view ===
async function showGlobalLogs() {
  write("=== Combined Security Event Log (JSON-backed) ===");
  write("Attempting to load logs from data/logs_web.json ...");
  write("------------------------------------------------------------");

  try {
    const response = await fetch("data/logs_web.json?" + Date.now());
    if (!response.ok) {
      write("[ERROR] Could not load logs_web.json (HTTP " + response.status + ").");
      return;
    }

    const events = await response.json();
    if (!Array.isArray(events) || events.length === 0) {
      write("[INFO] No events found in logs_web.json.");
      return;
    }

    events.forEach(ev => {
      const time = ev.timestamp || "unknown-time";
      const src  = (ev.source || "src").toUpperCase().padEnd(4, " ");
      const lvl  = (ev.level  || "INFO ").padEnd(6, " ");
      const type = ev.event_type || "EVENT";
      const msg  = ev.message || "";

      write(`[${time}][${src}][${lvl}] ${type} - ${msg}`);
    });

    write("");
    write("Tip: These events come from logs_web.json, which can be generated by your Python tools.");
  } catch (err) {
    write("[ERROR] Failed to load logs: " + err.message);
  }
}

// Password Analyzer simulation
function runPasswordAnalyzer() {
  write("Running Password Analyzer (simulated)...");
  write("----------------------------------------");
  write("Rules checked:");
  write("- Length >= 12 characters");
  write("- Contains uppercase and lowercase letters");
  write("- Contains numbers");
  write("- Contains symbols");
  write("- Avoids common / leaked passwords");
  write("");

  const samples = [
    "123456",
    "password123",
    "Daniel2026",
    "Cyber@2026",
    "G!tHub_P0rtfolio2026"
  ];

  samples.forEach(pw => {
    let score = 0;
    if (pw.length >= 12) score++;
    if (/[a-z]/.test(pw) && /[A-Z]/.test(pw)) score++;
    if (/[0-9]/.test(pw)) score++;
    if (/[^A-Za-z0-9]/.test(pw)) score++;

    let rating = "";
    if (score <= 1) rating = "VERY WEAK";
    else if (score === 2) rating = "WEAK";
    else if (score === 3) rating = "GOOD";
    else rating = "STRONG";

    write(`"${pw}" → ${rating}`);
  });

  write("");
  write("Tip: Use a long passphrase with mixed characters, and never reuse passwords across sites.");
}

// Port Scanner simulation
function runPortScanner() {
  write("Running Port Scanner (simulated)...");
  write("----------------------------------------");
  write("Target: 127.0.0.1");
  write("Ports scanned: 20-30, 80, 443");
  write("");

  const results = [
    "[SCAN] Checking port 20 (FTP-DATA)... CLOSED",
    "[SCAN] Checking port 21 (FTP)... CLOSED",
    "[SCAN] Checking port 22 (SSH)... OPEN",
    "[SCAN] Checking port 23 (Telnet)... CLOSED",
    "[SCAN] Checking port 25 (SMTP)... CLOSED",
    "[SCAN] Checking port 80 (HTTP)... OPEN",
    "[SCAN] Checking port 443 (HTTPS)... OPEN"
  ];

  results.forEach(line => write(line));

  write("");
  write("Summary: 3 open ports detected (22, 80, 443).");
  write("Note: This is a simulated scan. Real scans are done with Python or tools like nmap.");
}

// main command handler
function handleCommand(rawCmd) {
  const cmd = rawCmd.trim();
  if (cmd === "") return;

  // echo command
  write("$ " + cmd);

  const lower = cmd.toLowerCase();

  if (lower === "help") {
    showHelp();
  } else if (lower === "about") {
    write("Daniel Michael – Cybersecurity student, FTC Robotics programmer, and Georgia Tech Work Study.");
  } else if (lower === "skills") {
    write("Skills: Python, Java, HTML, CSS, Linux, Cybersecurity, Robotics Programming");
  } else if (lower === "projects") {
    write("GitHub → https://github.com/danielmichael20208");
  } else if (lower === "contact") {
    write("Email → Daniel.Michael20208@gmail.com");
  } else if (lower === "status") {
    showStatus();
  } else if (lower === "logs") {
    showGlobalLogs();
  } else if (lower === "door") {
    showDoorInfo();
  } else if (lower === "door logs" || lower === "python cyberdoor_logs.py") {
    showDoorLogs();
  } else if (lower === "python password_analyzer.py" || lower === "run password" || lower === "password analyzer") {
    runPasswordAnalyzer();
  } else if (lower === "python port_scanner.py" || lower === "run scanner" || lower === "port scanner") {
    runPortScanner();
  } else if (lower === "scan" || lower === "scanner" || lower === "real scanner") {
    write("Launching Real Port Scanner Mode...");
    write("==================================");
    write("");
    write("Run this locally in your terminal:");
    write("");
    write("   python port_scanner.py");
    write("");
    write("When finished, run:");
    write("");
    write("   logs");
    write("");
    write("to view SIEM results from data/logs_web.json");
  } else if (lower === "clear") {
    output.innerHTML = "";
  } else {
    write("Command not found. Type 'help' to see available commands.");
  }
}

terminal.addEventListener("keydown", function(e) {
  if (e.key === "Enter") {
    const cmd = terminal.value;
    terminal.value = "";
    handleCommand(cmd);
  }
});
</script>

<script>
  const links = document.querySelectorAll(".nav-btn");
  const current = location.pathname.split("/").pop();

  links.forEach(link => {
    if (link.getAttribute("href") === current) {
      link.classList.add("active");
    }
  });
</script>

</body>
</html>
